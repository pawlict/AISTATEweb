{% extends "base.html" %}
{% block content %}
<div class="card">
  <div class="info-hero">
    <div class="info-hero-title">{{ app_name }} — {{ app_fullname }}</div>
    <div class="info-hero-version">{{ app_version }}</div>
    <img class="info-hero-logo" src="/static/logo.png" alt="AISTATE Logo" />
  </div>

  <div class="info-source"><span data-i18n="info.source_prefix">Treść pochodzi z pliku</span> <code>{{ source }}</code>.</div>
  <div class="hr"></div>

  <div style="line-height:1.65">{{ content|safe }}</div>
</div>

<script>
  // If app stores UI language in localStorage (pl/en), align Info page without requiring a reload flow
  (function(){
    try{
      const url = new URL(window.location.href);
      if (url.searchParams.get("lang")) return;
      const ls = (localStorage.getItem("ui_language") || localStorage.getItem("lang") || "").toLowerCase();
      if (ls.startsWith("en") || ls.startsWith("pl")){
        url.searchParams.set("lang", ls.startsWith("en") ? "en" : "pl");
        window.location.replace(url.toString());
      }
    }catch(e){}
  })();
</script>
{% endblock %}
